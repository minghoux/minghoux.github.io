include ../component/analytics.pug

doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(http-equiv="X-UA-Compatible", content="ie=edge")
        title Find CP
        link(rel='stylesheet', type='text/css', href='https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css')
        link(rel='stylesheet', type='text/css', href='https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css')
        script(src='https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4')
        +analyticsHeader()
    body
        +analyticsNoScript()
        h1 Find CP
        p Integration with algolia search

        #search-box
        
        #hits

        script.
            const search = instantsearch({
                appId: 'latency',
                apiKey: '6be0576ff61c053d5f9a3225e2a90f76',
                indexName: 'instant_search',
                routing: true
            });

            // initialize SearchBox
            search.addWidget(
            instantsearch.widgets.searchBox({
                container: '#search-box',
                placeholder: 'Search for products'
            })
            );

            // initialize hits widget
            search.addWidget(
                instantsearch.widgets.hits({
                container: '#hits',
                templates: {
                    empty: 'No results',
                    item: '<em>Hit {{objectID}}</em>: {{{_highlightResult.name.value}}}'
                }
                })
            );

            search.start();

